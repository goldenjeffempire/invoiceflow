{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="auth-page d-flex align-items-center justify-content-center min-vh-100">
    <div class="bg-mesh">
        <div class="mesh-1"></div>
        <div class="mesh-2"></div>
    </div>
    <div class="auth-card-wrapper" data-aos="zoom-in">
        <div class="card-feature p-5 shadow-lg border-0 bg-glass">
            <div class="text-center mb-5">
                <a href="/" class="navbar-brand text-primary d-block mb-4">INVOICEFLOW</a>
                <h2 class="fw-bold h3 mb-2">Create Account</h2>
                <p class="text-muted">Start managing your business like a pro</p>
            </div>
            <form method="POST" class="needs-validation">
                {% csrf_token %}
                {% for field in form %}
                    <div class="mb-4">
                        <label class="form-label fw-semibold small text-uppercase tracking-wider">{{ field.label }}</label>
                        <div class="input-group input-group-lg">
                            <span class="input-group-text bg-light border-end-0 rounded-start-4">
                                {% if field.name == 'username' %}<i class="fa-solid fa-user text-muted"></i>
                                {% elif field.name == 'email' %}<i class="fa-solid fa-envelope text-muted"></i>
                                {% elif 'password' in field.name %}<i class="fa-solid fa-lock text-muted"></i>
                                {% else %}<i class="fa-solid fa-pen text-muted"></i>{% endif %}
                            </span>
                            {{ field }}
                        </div>
                        {% if field.errors %}
                            <p class="text-danger small mt-1">{{ field.errors.0 }}</p>
                        {% endif %}
                        {% if field.help_text %}
                            <p class="text-muted small mt-1 opacity-75">{{ field.help_text|safe }}</p>
                        {% endif %}
                    </div>
                {% endfor %}
                <button type="submit" class="btn btn-primary-custom w-100 py-3 mt-2">Create Account</button>
            </form>
            <div class="text-center mt-5 pt-4 border-top border-light">
                <p class="text-muted small">Already have an account? <a href="{% url 'accounts:login' %}" class="text-primary fw-bold text-decoration-none">Sign In</a></p>
            </div>
        </div>
    </div>
</div>

<style>
    .auth-page { position: relative; overflow: hidden; background: var(--bg-light); }
    .auth-card-wrapper { width: 100%; max-width: 500px; position: relative; z-index: 10; padding: 1rem; }
    .bg-glass { background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid var(--glass-border) !important; }
    .input-group-text { border-color: transparent; }
    .input-group input { border-color: transparent !important; background-color: var(--bs-light) !important; border-top-right-radius: 1rem !important; border-bottom-right-radius: 1rem !important; }
    .input-group input:focus { background: white !important; border-color: var(--primary) !important; box-shadow: 0 0 0 4px rgba(0, 102, 255, 0.1); }
    [data-theme="dark"] .input-group input:focus { background: var(--bg-light) !important; }
    .tracking-wider { letter-spacing: 0.05em; }
</style>
{% endblock %}